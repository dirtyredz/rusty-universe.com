import React from "react";
import styled from 'styled-components';
import { TweenMax, Elastic } from 'gsap'
import ReactDOM from 'react-dom';

const StyledDivTab = styled.div`
  opacity: 1;
  transition: opacity 2s;
  float: left;
`;
const StyledSVGTab = styled.svg`
  height: 100%;
  width: calc(50px + 20 * ((100vw - 320px) / 1360));
  display: inline-block;
  stroke-width: 0;
  stroke: white;
  fill: #7289da;
`;
const AsideTab = styled.aside`
    position: fixed;
    right: -300px;
    height: 100px;
    top: 100px;
    background-color: white;
    border-radius: 15px 0 0 15px;
    cursor: pointer;
    display: flex;
    padding: 10px;

`;
const TabItem = styled.div`
    flex-grow: 1;
`;
const ToggleMenu = {
  right: 0,
  height: 500
}
const TogglePadding = {
  paddingRight: 10
}

export default class DiscordTab extends React.Component {
    constructor(){
        super()
        this.state = {active: false,show: false}
    }
    handleClick(e) {
        if (this.state.active) {

            TweenMax.to(ReactDOM.findDOMNode(this.Tab), 1, {right: -300, height: 100});

            this.setState({active: false})
            setTimeout(()=>{
                this.setState({show: false})
            },800)
        }else{
            TweenMax.to(ReactDOM.findDOMNode(this.Tab), 1, {right: 0, height: 500});

            this.setState({active: true})
            setTimeout(()=>{
                this.setState({show: true})
            },800)
        }
    }
    componentDidMount(){
        //document.addEventListener('click', this.handleClick.bind(this), false);
    }
    render(){
        return (
            <AsideTab ref={(a) => { this.Tab = a; }} onClick={this.handleClick.bind(this)} >
                <TabItem>
                    <StyledDivTab style={(this.state.active) ? TogglePadding : {} }>
                          <StyledSVGTab viewBox="0 0 28 32">
                              <path d="M24.682 0h-21.408c-1.805 0-3.275 1.47-3.275 3.291v21.6c0 1.821 1.47 3.291 3.275 3.291h18.117l-0.847-2.956 2.045 1.901 1.933 1.789 3.435 3.036v-28.662c0-1.821-1.47-3.291-3.275-3.291zM18.515 20.866s-0.575-0.687-1.054-1.294c2.093-0.591 2.892-1.901 2.892-1.901-0.655 0.431-1.278 0.735-1.837 0.943-0.799 0.336-1.566 0.559-2.317 0.687-1.534 0.288-2.94 0.208-4.138-0.016-0.911-0.176-1.694-0.431-2.349-0.687-0.367-0.144-0.767-0.32-1.166-0.543-0.048-0.032-0.096-0.048-0.144-0.080-0.032-0.016-0.048-0.032-0.064-0.048-0.288-0.16-0.447-0.272-0.447-0.272s0.767 1.278 2.796 1.885c-0.479 0.607-1.070 1.326-1.070 1.326-3.531-0.112-4.873-2.428-4.873-2.428 0-5.144 2.301-9.314 2.301-9.314 2.301-1.726 4.489-1.678 4.489-1.678l0.16 0.192c-2.876 0.831-4.202 2.093-4.202 2.093s0.351-0.192 0.943-0.463c1.71-0.751 3.068-0.959 3.627-1.007 0.096-0.016 0.176-0.032 0.272-0.032 0.524-0.072 1.131-0.113 1.746-0.113 0.522 0 1.037 0.030 1.543 0.087l-0.062-0.006c1.518 0.176 3.147 0.623 4.809 1.534 0 0-1.262-1.198-3.978-2.029l0.224-0.256s2.189-0.048 4.489 1.678c0 0 2.301 4.17 2.301 9.314 0 0-1.358 2.317-4.889 2.428zM11.086 13.404c-0.911 0-1.63 0.799-1.63 1.773s0.735 1.773 1.63 1.773c0.911 0 1.63-0.799 1.63-1.773 0.016-0.975-0.719-1.773-1.63-1.773zM16.917 13.404c-0.911 0-1.63 0.799-1.63 1.773s0.735 1.773 1.63 1.773c0.911 0 1.63-0.799 1.63-1.773s-0.719-1.773-1.63-1.773z"></path>
                          </StyledSVGTab>
                    </StyledDivTab>
                    <br/>
                    <StyledDivTab style={(this.state.active) ? TogglePadding : {} }>
                        <StyledSVGTab viewBox="0 0 131 32">
                            <path d="M39.475 4.695c-2.341 0.295-4.341 1.298-5.489 2.741-1.22 1.548-1.6 3.6-1.069 5.725 0.282 1.115 1.089 2.4 2.013 3.187 1.187 1.016 2.577 1.607 4.649 1.98 1.089 0.19 1.659 0.354 2.289 0.656 1.128 0.538 1.502 1.22 1.121 2.039-0.354 0.767-1.272 1.128-2.682 1.056-1.469-0.072-2.813-0.649-3.862-1.672l-0.433-0.426-1.744 1.659c-0.957 0.911-1.744 1.679-1.744 1.705 0 0.111 1.029 1.213 1.528 1.639 1.318 1.128 2.761 1.869 4.308 2.203 0.846 0.184 2.662 0.171 3.659-0.026 3.495-0.702 5.967-2.761 6.511-5.423 0.184-0.872 0.151-2.603-0.059-3.39-0.295-1.095-0.656-1.777-1.338-2.511-1.174-1.259-2.675-1.921-5.954-2.623-1.456-0.315-2.334-0.748-2.708-1.357-0.243-0.387-0.282-0.728-0.151-1.18 0.295-1.010 1.489-1.58 2.872-1.37 1.062 0.164 2.125 0.669 2.879 1.364 0.374 0.348 0.407 0.367 0.544 0.275 0.361-0.229 3.515-2.702 3.515-2.761 0-0.033-0.197-0.269-0.439-0.531-1.462-1.561-2.892-2.38-4.866-2.807-0.479-0.098-0.931-0.138-1.875-0.157-0.682-0.013-1.351-0.007-1.475 0.007z"></path>
                            <path d="M58.033 4.702c-2.052 0.216-4.092 1.095-5.41 2.328-1.069 0.997-1.79 2.367-2.072 3.921-0.072 0.387-0.092 1.489-0.092 5.115 0 4.577 0 4.63 0.151 5.311 0.328 1.475 0.964 2.61 2.046 3.633 1.508 1.416 3.633 2.23 6.066 2.315 1.62 0.052 2.846-0.203 4.262-0.892 1.193-0.584 2.151-1.357 2.997-2.407 0.38-0.472 1.036-1.502 1.036-1.626-0.007-0.066-4.682-2.269-4.82-2.269-0.039 0-0.151 0.164-0.256 0.361-0.374 0.721-1.213 1.318-2.125 1.515-1.462 0.308-3.023-0.308-3.567-1.41l-0.151-0.302v-8.59l0.184-0.367c0.452-0.925 1.508-1.462 2.866-1.462 0.761 0 1.207 0.105 1.856 0.433 0.374 0.184 0.99 0.734 1.266 1.128l0.131 0.197 2.066-0.846c1.134-0.459 2.151-0.879 2.269-0.931l0.21-0.085-0.105-0.243c-0.184-0.459-0.793-1.423-1.233-1.967-1.239-1.541-3.154-2.577-5.226-2.839-0.505-0.059-1.836-0.072-2.348-0.020z"></path>
                            <path d="M75.934 4.748c-2.21 0.321-3.974 1.108-5.285 2.348-1.246 1.18-1.928 2.557-2.125 4.282-0.085 0.8-0.085 8.446 0.007 9.259 0.38 3.397 2.957 5.81 7.016 6.551 0.787 0.144 2.505 0.19 3.338 0.098 2.354-0.269 4.249-1.082 5.639-2.407 1.213-1.161 1.895-2.518 2.098-4.157 0.085-0.734 0.085-8.708 0-9.423-0.105-0.839-0.302-1.508-0.656-2.216-1.095-2.229-3.292-3.698-6.367-4.269-0.767-0.144-2.866-0.177-3.666-0.066zM78.256 9.836c1.331 0.19 2.243 0.741 2.643 1.613l0.151 0.341-0.013 4.249c-0.020 3.993-0.026 4.269-0.144 4.498-0.334 0.689-1.082 1.187-2.111 1.436-0.833 0.197-2.059 0.157-2.813-0.098-0.911-0.308-1.534-0.82-1.777-1.456-0.118-0.302-0.125-0.544-0.125-4.42 0-4.689-0.020-4.505 0.557-5.134 0.761-0.833 2.164-1.233 3.633-1.030z"></path>
                            <path d="M4.931 9.652l0.020 4.669 2.689 2.439c1.482 1.344 2.708 2.446 2.741 2.446 0.026 0.007 0.046-2.013 0.046-4.485v-4.492h1.666c0.911 0 1.816 0.026 2.007 0.066 0.905 0.171 1.574 0.695 1.81 1.423 0.118 0.354 0.125 0.623 0.125 4.282 0 3.567-0.013 3.928-0.118 4.236-0.236 0.675-0.728 1.128-1.489 1.377-0.334 0.111-0.734 0.125-4.931 0.144l-4.577 0.020v5.239h4.643c4.997 0 5.344-0.020 6.616-0.361 2.78-0.741 4.557-2.413 5.252-4.938l0.177-0.636v-4.951c0-5.344 0.007-5.18-0.367-6.334-0.852-2.61-3.259-4.321-6.682-4.741-0.341-0.046-2.315-0.072-5.095-0.072h-4.544l0.013 4.669z"></path>
                            <path d="M24.59 16v11.016h5.574v-22.033h-5.574v11.016z"></path>
                            <path d="M89.508 16.033v11.049h5.705v-7.023l0.944 0.039 4.997 6.885 3.489 0.020c1.921 0.007 3.489 0 3.489-0.020s-1.311-1.698-2.925-3.738c-1.607-2.033-2.925-3.718-2.931-3.738s0.216-0.138 0.498-0.256c1.22-0.531 2.236-1.482 2.82-2.63 0.662-1.325 1.010-3.456 0.833-5.148-0.374-3.561-2.289-5.62-5.902-6.334-0.492-0.098-1.2-0.118-5.784-0.138l-5.233-0.026v11.056zM99.18 10.328c0.721 0.19 1.279 0.656 1.6 1.344 0.151 0.315 0.171 0.446 0.171 1.016 0 0.584-0.020 0.702-0.184 1.049-0.374 0.793-1.075 1.285-2.026 1.41-0.262 0.033-1.167 0.066-2 0.066h-1.528v-4.984h1.79c1.403 0 1.875 0.020 2.177 0.098z"></path>
                            <path d="M109.508 9.633v4.656l2.741 2.472 2.734 2.479 0.020-4.505 0.013-4.505h1.679c1.889 0 2.334 0.066 2.918 0.413 0.19 0.118 0.446 0.334 0.564 0.492 0.42 0.551 0.42 0.544 0.4 4.97l-0.020 3.993-0.151 0.328c-0.315 0.689-0.99 1.148-1.889 1.279-0.262 0.033-2.243 0.066-4.761 0.066h-4.315v5.252l4.971-0.026c5.377-0.026 5.233-0.020 6.597-0.407 0.702-0.203 1.757-0.689 2.341-1.089 1.574-1.056 2.564-2.715 2.807-4.715 0.098-0.761 0.092-8.761 0-9.541-0.361-2.944-2.315-5.062-5.449-5.902-1.239-0.334-1.718-0.361-6.649-0.361h-4.551v4.649z"></path>
                        </StyledSVGTab>
                    </StyledDivTab>
                </TabItem>
                {(this.state.show) ? <TabItem ><iframe title="Discord" src="https://discordapp.com/widget?id=268923609387368448&theme=dark" width="300" height={(this.state.active) ? 500 : 0 } allowtransparency="true" frameBorder="0"></iframe></TabItem> : <div style={{width: 300}}></div>}
            </AsideTab>
        );
    }

}
